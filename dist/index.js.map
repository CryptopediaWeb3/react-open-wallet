{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { createContext, useEffect, useState, useContext } from 'react'\n\nexport const walletContext = createContext({ account: '' })\nconst ReactOpenWallet: React.FC = ({ children }) => {\n  // ESTADO DE WALLET\n  const [account, setAccount] = useState<string>('')\n\n  // VERIFICAR QUE TENGA METAMASK\n  const checkWallet = () => {\n    if (!window.ethereum) {\n      console.error('Install MetaMask')\n    }\n  }\n\n  // SOLICITAR CUENTAS\n  const getAccounts = async () => {\n    if (window.ethereum) {\n      // @ts-ignore\n      const metaAccounts = await window.ethereum.request({\n        method: 'eth_requestAccounts'\n      })\n      setAccount(metaAccounts[0])\n    }\n  }\n\n  // VERIFICAR UNA VEZ\n  useEffect(() => {\n    checkWallet()\n  }, [])\n\n  return (\n    <walletContext.Provider value={{ account }}>\n      <button onClick={getAccounts}>Connect Wallet</button>\n      {children}\n    </walletContext.Provider>\n  )\n}\n\n// CONFIGURACION PARA TYPESCRIPT\ndeclare global {\n  interface Window {\n    ethereum: unknown\n  }\n}\n\n// HOOK DE CONTEXTO\nexport const useWallet = () => {\n  const walletCtx = useContext(walletContext)\n  return walletCtx\n}\n\nexport default ReactOpenWallet\n"],"names":["walletContext","createContext","account","ReactOpenWallet","children","useState","setAccount","checkWallet","window","ethereum","console","error","getAccounts","request","method","metaAccounts","useEffect","React","Provider","value","onClick","useWallet","walletCtx","useContext"],"mappings":";;;;;IAEaA,aAAa,GAAGC,mBAAa,CAAC;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAAD;;AAC1C,IAAMC,eAAe,GAAa,SAA5BA,eAA4B;MAAGC,gBAAAA;;AAEnC,kBAA8BC,cAAQ,CAAS,EAAT,CAAtC;AAAA,MAAOH,OAAP;AAAA,MAAgBI,UAAhB;;AAGA,MAAMC,WAAW,GAAG,SAAdA,WAAc;AAClB,QAAI,CAACC,MAAM,CAACC,QAAZ,EAAsB;AACpBC,MAAAA,OAAO,CAACC,KAAR,CAAc,kBAAd;AACD;AACF,GAJD;;AAOA,MAAMC,WAAW,YAAXA,WAAW;AAAA;;YACXJ,MAAM,CAACC;iCAEkBD,MAAM,CAACC,QAAP,CAAgBI,OAAhB,CAAwB;AACjDC,YAAAA,MAAM,EAAE;AADyC,WAAxB,kBAArBC;AAGNT,YAAAA,UAAU,CAACS,YAAY,CAAC,CAAD,CAAb,CAAV;;;;;;AAEH,KARgB;AAAA;AAAA;AAAA,GAAjB;;AAWAC,EAAAA,eAAS,CAAC;AACRT,IAAAA,WAAW;AACZ,GAFQ,EAEN,EAFM,CAAT;AAIA,SACEU,4BAAA,CAACjB,aAAa,CAACkB,QAAf;AAAwBC,IAAAA,KAAK,EAAE;AAAEjB,MAAAA,OAAO,EAAPA;AAAF;GAA/B,EACEe,4BAAA,SAAA;AAAQG,IAAAA,OAAO,EAAER;GAAjB,kBAAA,CADF,EAEGR,QAFH,CADF;AAMD,CAjCD;;IA2CaiB,SAAS,GAAG,SAAZA,SAAY;AACvB,MAAMC,SAAS,GAAGC,gBAAU,CAACvB,aAAD,CAA5B;AACA,SAAOsB,SAAP;AACD;;;;;;"}