{"version":3,"file":"index.modern.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { createContext, useEffect, useState, useContext } from 'react'\n\nexport const walletContext = createContext({ account: '' })\nconst ReactOpenWallet: React.FC = ({ children }) => {\n  // ESTADO DE WALLET\n  const [account, setAccount] = useState<string>('')\n\n  // VERIFICAR QUE TENGA METAMASK\n  const checkWallet = () => {\n    if (!window.ethereum) {\n      console.error('Install MetaMask')\n    }\n  }\n\n  // SOLICITAR CUENTAS\n  const getAccounts = async () => {\n    if (window.ethereum) {\n      // @ts-ignore\n      const metaAccounts = await window.ethereum.request({\n        method: 'eth_requestAccounts'\n      })\n      setAccount(metaAccounts[0])\n    }\n  }\n\n  // VERIFICAR UNA VEZ\n  useEffect(() => {\n    checkWallet()\n  }, [])\n\n  return (\n    <walletContext.Provider value={{ account }}>\n      <button onClick={getAccounts}>Connect Wallet</button>\n      {children}\n    </walletContext.Provider>\n  )\n}\n\n// CONFIGURACION PARA TYPESCRIPT\ndeclare global {\n  interface Window {\n    ethereum: unknown\n  }\n}\n\n// HOOK DE CONTEXTO\nexport const useWallet = () => {\n  const walletCtx = useContext(walletContext)\n  return walletCtx\n}\n\nexport default ReactOpenWallet\n"],"names":["walletContext","createContext","account","ReactOpenWallet","children","setAccount","useState","checkWallet","window","ethereum","console","error","getAccounts","metaAccounts","request","method","useEffect","React","Provider","value","onClick","useWallet","walletCtx","useContext"],"mappings":";;MAEaA,aAAa,GAAGC,aAAa,CAAC;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAAD;;AAC1C,MAAMC,eAAe,GAAa,CAAC;AAAEC,EAAAA;AAAF,CAAD;AAEhC,QAAM,CAACF,OAAD,EAAUG,UAAV,IAAwBC,QAAQ,CAAS,EAAT,CAAtC;;AAGA,QAAMC,WAAW,GAAG;AAClB,QAAI,CAACC,MAAM,CAACC,QAAZ,EAAsB;AACpBC,MAAAA,OAAO,CAACC,KAAR,CAAc,kBAAd;AACD;AACF,GAJD;;AAOA,QAAMC,WAAW,GAAG;AAClB,QAAIJ,MAAM,CAACC,QAAX,EAAqB;AAEnB,YAAMI,YAAY,GAAG,MAAML,MAAM,CAACC,QAAP,CAAgBK,OAAhB,CAAwB;AACjDC,QAAAA,MAAM,EAAE;AADyC,OAAxB,CAA3B;AAGAV,MAAAA,UAAU,CAACQ,YAAY,CAAC,CAAD,CAAb,CAAV;AACD;AACF,GARD;;AAWAG,EAAAA,SAAS,CAAC;AACRT,IAAAA,WAAW;AACZ,GAFQ,EAEN,EAFM,CAAT;AAIA,SACEU,mBAAA,CAACjB,aAAa,CAACkB,QAAf;AAAwBC,IAAAA,KAAK,EAAE;AAAEjB,MAAAA;AAAF;GAA/B,EACEe,mBAAA,SAAA;AAAQG,IAAAA,OAAO,EAAER;GAAjB,kBAAA,CADF,EAEGR,QAFH,CADF;AAMD,CAjCD;;MA2CaiB,SAAS,GAAG;AACvB,QAAMC,SAAS,GAAGC,UAAU,CAACvB,aAAD,CAA5B;AACA,SAAOsB,SAAP;AACD;;;;;"}